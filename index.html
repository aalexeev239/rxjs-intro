<!DOCTYPE html>
<html lang="en">
<head>
    <title>RxJS –ø–æ –∫–æ—Å—Ç–æ—á–∫–∞–º</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/tinkoff-shower/theme/styles.css">
    <link rel="stylesheet" href="custom/styles.css">

    <link rel="icon" sizes="16x16" href="pictures/favicon-16x16.png">
    <link rel="icon" sizes="32x32" href="pictures/favicon-32x32.png">
    <link rel="icon" sizes="96x96" href="pictures/favicon-96x96.png">
</head>
<body class="shower list stachka">

<template id="timeline-template" class="hidden">
    <div class="timeline" style="width: 0px;"></div>
</template>

<header class="caption">
    <h1>RxJS –ø–æ –∫–æ—Å—Ç–æ—á–∫–∞–º</h1>
</header>

<section class="slide invert" id="cover">
    <div class="intro">
        <img width="300" class="intro-img" src="pictures/rxjs-logo.png" alt="RxJS">
    </div>
    <div class="cover-title">
        <h2>RxJS<br>–ø–æ –∫–æ—Å—Ç–æ—á–∫–∞–º</h2>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–≤–µ—Ç</h2>
    <div class="two-columns">
        <div>
            <img src="pictures/author.png" width="100%" alt="">
        </div>
        <div>
            <br>
            <h2>–ê–Ω–¥—Ä–µ–π –ê–ª–µ–∫—Å–µ–µ–≤</h2>
            <p class="nowrap">
                <span class="emoji">üë®‚Äçüíª</span>
                <a href="https://www.tinkoff.ru/business/"
                   target="_blank"
                   rel="noopener noreferrer">Tinkoff business</a>
            </p>
            <p class="nowrap">
                <span class="emoji">üë®‚Äçüè´</span>
                <a href="https://fintech.tinkoff.ru/"
                   target="_blank"
                   rel="noopener noreferrer">Tinkoff Fintech School</a></p>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–û —á–µ–º –ø–æ–≥–æ–≤–æ—Ä–∏–º</h2>
    <div class="slide-description">
        <ul>
            <li>–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</li>
            <li>Observable</li>
            <li>–û–ø–µ—Ä–∞—Ç–æ—Ä—ã Rx</li>
            <li>–î–µ–º–æ</li>
            <li>Subjects</li>
        </ul>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h2>
    <div class="slide-description">
        <img class="img-boxed" width="526" src="pictures/table-1.png" alt="A1 = 1; B1 = 3; C1 = A1 + B1 = 4">

        <div class="two-columns">
            <div>
                <p class="excel next">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>
                        <mark>C1 = A1 + B1;</mark>
                    </code>
                </p>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h2>
    <div class="slide-description">
        <img class="img-boxed" width="526" src="pictures/table-1.png" alt="A1 = 1; B1 = 3; C1 = A1 + B1 = 4">

        <div class="two-columns">
            <div>
                <p class="excel">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>C1 = A1 + B1;</code>
                    <br>
                    <code>
                        <mark>C1 ~ 4;</mark>
                    </code>
                </p>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h2>
    <div class="slide-description">
        <img class="img-boxed" width="526" src="pictures/table-2.png" alt="A1 = 2; B1 = 3; C1 = A1 + B1 = 4">

        <div class="two-columns">
            <div>
                <p class="excel">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>C1 = A1 + B1;</code>
                    <br>
                    <code>C1 ~ 4;</code>
                </p>
                <p class="excel">
                    <code>
                        <mark>A1 = 2;</mark>
                    </code>
                </p>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h2>
    <div class="slide-description">
        <img class="img-boxed" width="526" src="pictures/table-3.png" alt="A1 = 2; B1 = 3; C1 = A1 + B1 = 5">
        <div class="two-columns">
            <div>
                <p class="excel">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>C1 = A1 + B1;</code>
                    <br>
                    <code>C1 ~ 4;</code>
                </p>
                <p class="excel">
                    <code>A1 = 2;</code>
                    <br>
                    <code>
                        <mark>C1 ~ 5;</mark>
                    </code>
                </p>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h2>
    <div class="slide-description">
        <div class="two-columns">
            <div>
                <p>
                    <strong>Push-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è</strong>
                </p>
                <p class="excel">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>C1 = A1 + B1;</code>
                    <br>
                    <code>C1 ~ 4;</code>
                </p>
                <p class="excel">
                    <code>A1 = 2;</code>
                    <br>
                    <code>C1 ~ 5;</code>
                </p>
            </div>
            <div>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h2>
    <div class="slide-description">
        <div class="two-columns">
            <div>
                <p>
                    <strong>Push-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è</strong>
                </p>
                <p class="excel">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>C1 = A1 + B1;</code>
                    <br>
                    <code>C1 ~ 4;</code>
                </p>
                <p class="excel">
                    <code>A1 = 2;</code>
                    <br>
                    <code>C1 ~ 5;</code>
                </p>
            </div>
            <div>
                <p>
                    <strong>Pull-—Å—Ç–∞—Ç–µ–≥–∏—è</strong>
                </p>
                <p class="excel next">
                    <code>A1 = 1; B1 = 3;</code>
                    <br>
                    <code>C1 = A1 + B1;</code>
                    <br>
                    <code class="next">C1 ~ 4;</code>
                </p>
                <p class="excel next">
                    <code>A1 = 2;</code>
                    <br>
                    <code class="next">
                        <mark>C1 ~ 4;</mark>
                    </code>
                </p>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="shout">
        Push / Pull
    </h2>
    <div class="notify-wrap push-pull-example next">
        <div class="notify-baloon">
            <div class="notify-head notify-clearfix"><a class="notify-close" role="link" title="–ó–∞–∫—Ä—ã—Ç—å"
                                                        aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                <svg width="12" height="12" viewPort="0 0 12 12" version="1.1"
                     xmlns="http://www.w3.org/2000/svg">
                    <line x1="1" y1="11"
                          x2="11" y2="1"
                          stroke="white"
                          stroke-width="2"/>
                    <line x1="1" y1="1"
                          x2="11" y2="11"
                          stroke="white"
                          stroke-width="2"/>
                </svg>

            </a>
                <span class="notify-title">–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</span></div>
            <div class="notify-body notify-clearfix">
                <div class="notify-image-wrap"><a href="https://reactivex.io/rxjs/"><img src="pictures/rxJs.png"
                                                                                         class="notify-image"></a></div>
                <div class="notify-baloon-msg"><a href="https://reactivex.io/rxjs/">–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</a>
                    –ø—Ä–∏—Å–ª–∞–ª –í–∞–º –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
                </div>
            </div>
        </div>
    </div>

    <div class="modal-container push-pull-example next">
        <div class="modal-title-wrap">
            <div class="modal-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å" tabindex="0" role="button">
                <svg width="12" height="12" viewPort="0 0 12 12" version="1.1"
                     xmlns="http://www.w3.org/2000/svg">
                    <line x1="1" y1="11"
                          x2="11" y2="1"
                          stroke="white"
                          stroke-width="2"/>
                    <line x1="1" y1="1"
                          x2="11" y2="11"
                          stroke="white"
                          stroke-width="2"/>
                </svg>
            </div>
            <div class="modal-title">–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</div>
        </div>
        <div class="modal-body">
            <div class="modal-user-info">
                <div class="modal-image-wrap">
                    <img class="modal-image"
                         src="pictures/palpatin-50.png">
                </div>
                <div class="modal-user-text">
                    <a href="#" class="modal-link">–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥</a>
                    <div class="modal-user-status"> –±—ã–ª –≤ –¥–æ–∫–ª–∞–¥–µ 1 —Å–ª–∞–π–¥ –Ω–∞–∑–∞–¥</div>
                </div>
            </div>
            <div class="modal-msg"></div>
            <div class="modal-controls">
                <button class="modal-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Push value</h2>
    <div class="slide-description">
        <img width="800" class="img-centered" src="pictures/rx-stachka-table-1.png" alt="–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Promise ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</h2>
    <div class="slide-description">
        <img width="800" class="img-centered" src="pictures/rx-stachka-table-2.png"
             alt="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî Promise">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</h2>
    <div class="slide-description">
        <img width="800" class="img-centered" src="pictures/rx-stachka-table-3.png"
             alt="–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Iterable</h2>
    <div class="slide-description">
        <img width="800" class="img-centered" src="pictures/rx-stachka-table-4.png"
             alt="–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - Iterable">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ò –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ, –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ?</h2>
    <div class="slide-description">
        <img width="800" class="img-centered" src="pictures/rx-stachka-table-5.png"
             alt="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <img width="800" class="img-centered" src="pictures/rx-stachka-table-6.png"
             alt="Observable">
    </div>
</section>

<section class="slide">
    <h2 class="shout shout-small">
        –ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π
    </h2>
</section>

<section class="slide">
    <h2 class="slide-header">–ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π</h2>
    <div class="slide-description">
        <img width="727" class="img-centered" src="pictures/rxjs-clicks-1.png" alt="–ü–æ—Ç–æ–∫ –∫–ª–∏–∫–æ–≤">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">2 —á–∞—Å–∞ —Å–æ–∑–µ—Ä—Ü–∞–Ω–∏—è</h2>
    <div class="slide-description">
        <img width="727" class="img-centered" src="pictures/rxjs-clicks-2.png" alt="–ü–æ—Ç–æ–∫ –∫–ª–∏–∫–æ–≤">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">3 —á–∞—Å–∞ —Å–æ–∑–µ—Ä—Ü–∞–Ω–∏—è</h2>
    <div class="slide-description">
        <img width="727" class="img-centered" src="pictures/rxjs-clicks-2-2.png" alt="–ü–æ—Ç–æ–∫ –∫–ª–∏–∫–æ–≤">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">4 —á–∞—Å–∞ —Å–æ–∑–µ—Ä—Ü–∞–Ω–∏—è</h2>
    <div class="slide-description">
        <img width="727" class="img-centered" src="pictures/rxjs-clicks-3.png" alt="–ü–æ—Ç–æ–∫ –∫–ª–∏–∫–æ–≤">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">4 —á–∞—Å–∞ –∏ 10 —Å–µ–∫—É–Ω–¥ —Å–æ–∑–µ—Ä—Ü–∞–Ω–∏—è</h2>
    <div class="slide-description">
        <img width="727" class="img-centered" src="pictures/rxjs-clicks-4.png" alt="–ü–æ—Ç–æ–∫ –∫–ª–∏–∫–æ–≤">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π</h2>
    <div class="slide-description">
        <pre>
            <code><mark>Rx.Observable</mark></code>
            <code>    <mark>.from([{x: 11, y: 99}, {x: 91, y: 151}, {x: 152, y: 106}, {x: 274, y: 84}])</mark></code>
            <code class="next">    .map((value) => { ... })</code>
            <code class="next">    .filter((value) => { ... })</code>
            <code class="next">    .reduce((acc, curr) => { ... })</code>
            <div class="next">
            <code>    .subscribe(result => {</code>
            <code>        console.log(result);</code>
            <code>    });</code>
            </div>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="shout shout-small">
        –ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π
        <br>~<br>
        –º–∞—Å—Å–∏–≤,
        —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π
        –≤–æ&nbsp;–≤—Ä–µ–º–µ–Ω–∏
        <br><br>
    </h2>
</section>

<section class="slide">
    <h2 class="shout">
        Observable
        <br>
        <small class="nowrap">Observer pattern + Iterator pattern</small>
    </h2>
</section>

<section class="slide">
    <h2 class="slide-header">Observer pattern</h2>
    <div class="slide-description">
        <small>
            <pre>
                <code>class Subject {</code>
                <div class="next">
                <code>    constructor() {</code>
                <code>        this.observers = [];</code>
                <code>    }</code>
                </div>
                <code class="next">    add(observer) {...}</code>
                <code class="next">    remove(observer) {...}</code>
                <div class="next">
                <code>    notify(value) {</code>
                <code>        this.observers.forEach(observer => {</code>
                    <code>            observer.<mark>update(value)</mark></code>
                <code>        });</code>
                <code>    }</code>
                </div>
                <code>}</code>
            </pre>
        </small>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Observer pattern</h2>
    <div class="slide-description">
        <br>
        <img width="798" class="img-centered" src="pictures/observer-pattern.png" alt="Observer">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Observer pattern</h2>
    <div class="slide-description">
        <p><strong>–°—É–±—ä–µ–∫—Ç</strong> –∏–∑–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
            <br>
            –¢–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <strong>Observable</strong>, –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç.</p>
        <p><strong>–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (Observer)</strong> —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞&nbsp;–∏–∑–º–µ–Ω–µ–Ω–∏—è.</p>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Iterator pattern</h2>
    <div class="slide-description">
        <small>
            <pre>
                <code>class Iterator {</code>
                <code>    constructor(list) {</code>
                <code>        this.list = list;</code>
                <code>        this.cursor = 0;</code>
                <code>    }</code>
                <code> </code>
                <code class="next">    next() {...}</code>
                <code class="next">    hasNext() {...}</code>
                <code>}</code>
            </pre>
        </small>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Iterator pattern</h2>
    <div class="slide-description">
        <ul>
            <li>–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—Ö–æ–¥ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
            <li>–Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</li>
        </ul>
        <img width="798" class="img-centered" src="pictures/iterator-pattern.png" alt="Observer">
    </div>
</section>

<section class="slide">
    <h2 class="shout">
        Observable
    </h2>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <div class="playground" id="observableDef"></div>
        <button class="btn btn-play" onclick="run(observableDef, this)">‚ñ∂</button>
    </div>
    <small>
        <pre>
                <code>const stream$ = rxjs.Observable.create((observer) => {</code>
                <code>    observer.next(1);</code>
                <code>    setTimeout(() => { observer.next(2);},    1000);</code>
                <code>    setTimeout(() => { observer.next(3);},    2000);</code>
                <code>    setTimeout(() => { observer.complete();}, 3000);</code>
                <code>});</code>
                <code>const subscribtion = stream$.subscribe({</code>
                <code>    next: (value) => renderNext(value),</code>
                <code>    error: (error) => renderError(error),</code>
                <code>    complete: () => renderComplete()</code>
                <code>});</code>
        </pre>
    </small>
    <script>
        function observableDef() {
            const playgroundElement = document.getElementById('observableDef');
            playgroundElement.innerHTML = '';

            const stream$ = rxjs.Observable.create((observer) => {
                observer.next(1);
                setTimeout(() => {
                    observer.next(2);
                }, 1000);
                setTimeout(() => {
                    observer.next(3);
                }, 2000);
                setTimeout(() => {
                    observer.complete()
                }, 3000);
            });

            startStream(playgroundElement, stream$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <p>
            <mark>Observable</mark>
            ‚Äì —Å–∞–º –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç&nbsp;–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–¥–ø–∏—Å–∫—É.
        </p>
    </div>
    <small>
        <pre>
            <code>const <mark class="highlight next">stream$</mark> = <mark>rxjs.Observable.create</mark>((observer) => {...});</code>
            <code> </code>
            <code>const subscribtion = stream$.<mark class="highlight next">subscribe</mark>(...);</code>
        </pre>
    </small>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <p>
            <mark>Observer</mark>
            ‚Äì –æ–±—ä–µ–∫—Ç-–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å,
            <br>
            –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ next/error/complete
        </p>
    </div>
    <small>
        <pre>
            <code>const subscribtion = stream$.subscribe(</code>
            <code>    {</code>
            <code>        next: <mark class="next">(value) => renderNext(value),</mark></code>
            <code>        error: <span class="next">(error) => renderError(error),</span></code>
            <code>        complete: <mark class="next">() => renderComplete()</mark></code>
            <code>    }</code>
            <code>);</code>
            <code class="next">stream$.subscribe(<mark>(value) => renderNext(value)</mark>);</code>
            <code class="next">stream$.subscribe(<mark>renderNext</mark>);</code>
        </pre>
    </small>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <p>
            <mark>–§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è</mark>
            –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
            –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è.
        </p>
    </div>
    <small>
        <pre>
            <code>const stream$ = rxjs.Observable.create((<mark>observer</mark>) => {</code>
            <code class="next">    <mark>observer.next(1);</mark></code>
            <code class="next">    setTimeout(() => { <mark>observer.next(2);</mark>},    1000);</code>
            <code class="next">    setTimeout(() => { <mark>observer.next(3);</mark>},    2000);</code>
            <code class="next">    setTimeout(() => { <mark>observer.complete();</mark>}, 3000);</code>
            <code>});</code>
            <code class="next">stream$.subscribe(<mark>renderNext</mark>);</code>
        </pre>
    </small>
    <div class="playground next">
        <div class="timeline" style="width: 300.8px; color: rgb(251, 0, 13); transition-duration: 0s;">
            <div class="entry" style="left: 0.6px;">1</div>
            <div class="entry" style="left: 100.7px;">2</div>
            <div class="entry" style="left: 200.7px;">3</div>
            <div class="entry-complete" style="left: 300.7px;"></div>
        </div>
    </div>

</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <p>
            <mark>Subscribtion</mark>
            ‚Äì –ø–æ–¥–ø–∏—Å–∫–∞. –°—Ç–∞—Ä—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π.
            <br>
            unsubscribe ‚Äì –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π.
        </p>
    </div>
    <small>
        <pre>
            <div class="next invisible-next">
            <code>const stream$ = rxjs.Observable.create((observer) => {</code>
            <code>    const timeout = setTimeout(() => observer.next(1), 1000);</code>
            <code> </code>
            <code>    <mark>return function unsubscribe()</mark> { </code>
            <code>        clearTimeout(timeout);</code>
            <code>    }</code>
            <code>});</code>
            </div>
            <code class="after-invisible-next">const stream$ = rxjs.Observable.create((observer) => {...});</code>
            <code> </code>
            <code>const <mark>subscribtion</mark> = stream$.subscribe(...);</code>
            <code>subscribtion.unsubscribe();</code>
        </pre>
    </small>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <p>
            –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
        </p>
    </div>
    <small>
        <pre>
            <code>const stream$ = rxjs.Observable.create((observer) => {...});</code>
            <code> </code>
            <code>const subscribtionA = stream$.subscribe(observerA);</code>
            <code class="next">const subscribtionB = stream$.subscribe(<mark>observerBC</mark>);</code>
            <code class="next">const subscribtionC = stream$.subscribe(<mark>observerBC</mark>);</code>
        </pre>
    </small>
</section>

<section class="slide">
    <h2 class="slide-header">Observable</h2>
    <div class="slide-description">
        <div class="playground">
            <div class="timeline" style="width: 300.8px; color: rgb(251, 0, 13); transition-duration: 0s;">
                <div class="entry" style="left: 0.6px;">1</div>
                <div class="entry" style="left: 100.7px;">2</div>
                <div class="entry" style="left: 200.7px;">3</div>
                <div class="entry-complete" style="left: 300.7px;"></div>
            </div>
        </div>
    </div>
    <small>
        <pre>
                <code>const <mark class="highlight next">stream$</mark> = <mark class="highlight next">rxjs.Observable.create</mark>((observer) => {</code>
                <code>    <mark class="highlight next">observer.next(1);</mark></code>
                <code>    setTimeout(() => { <mark class="highlight next">observer.next(2);</mark>},    1000);</code>
                <code>    setTimeout(() => { <mark class="highlight next">observer.next(3);</mark>},    2000);</code>
                <code>    setTimeout(() => { <mark class="highlight next">observer.complete();</mark>}, 3000);</code>
                <code>});</code>
                <code>const <mark class="highlight next">subscribtion</mark> = stream$.<mark class="highlight next">subscribe</mark>({</code>
                <code>    next: <mark class="highlight next">(value) => renderNext(value)</mark>,</code>
                <code>    error: (error) => renderError(error),</code>
                <code>    complete: <mark class="highlight next">() => renderComplete()</mark></code>
                <code>});</code>
        </pre>
    </small>
</section>

<section class="slide">
    <h2 class="slide-header">–û–∫, —á—Ç–æ –¥–∞–ª—å—à–µ?</h2>
    <div class="slide-description">
        <p>–î–∞–ª—å—à–µ ‚Äî 127+ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤. 127, –ö–∞—Ä–ª!</p>
        <ul>
            <li>c–æ–∑–¥–∞–Ω–∏–µ</li>
            <li>–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞</li>
            <li>–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤</li>
            <li>Observable –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞</li>
        </ul>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">C–æ–∑–¥–∞–Ω–∏–µ Observable</h2>
    <div class="slide-description">
        <pre>
            <code>Rx.Observable.<mark>of('foo');</mark></code>
            <code class="next text-muted">// ---foo---|</code>
            <div class="next">
            <code> </code>
            <code>Rx.Observable.<mark>from(['foo', 'bar', 'baz']);</mark></code>
            <code class="next text-muted">// ---foo---bar---baz---|</code>
            </div>
            <div class="next">
            <code> </code>
            <code>Rx.Observable.<mark>timer(100, 500);</mark></code>
            <code class="next text-muted">// -0---1---2---3--...</code>
            </div>
        </pre>
        </small>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">C–æ–∑–¥–∞–Ω–∏–µ Observable</h2>
    <div class="slide-description">
        <pre>
            <code>const promise = new Promise((resolve) => { resolve('foo')});</code>
            <code>Rx.Observable.<mark>fromPromise(promise);</mark></code>
            <code class="next text-muted">// ----------------foo---|</code>
            <div class="next">
            <code> </code>
            <code>const btnElement = document.getElementById('btn');</code>
                <code>Rx.Observable.<mark>fromEvent(btnElement, 'click');</mark></code>
            <code class="next text-muted">// --evt-evt------evt----evt--...</code>
            </div>
        </pre>
        </small>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</h2>
    <div class="slide-description">
        <div class="playground playground-two-streams" id="operatorsExample1"></div>
        <button class="btn btn-play" onclick="run(operatorsExample1, this)">‚ñ∂</button>
    </div>
    <small>
        <pre>
            <code>Rx.Observable.timer(0, 500)</code>
            <code class="next">    .take(12)</code>
            <code class="next">    .subscribe(renderNext);</code>
            <div class="next">
            <code> </code>
            <code>Rx.Observable.timer(0, 500)</code>
            <code class="next">    .take(12)</code>
            <code class="next">    .filter(() => Math.random() < 0.3)</code>
            <code class="next">    .subscribe(renderNext);</code>
            </div>
        </pre>
    </small>
    <script>
        function operatorsExample1() {
            const playgroundElement = document.getElementById('operatorsExample1');
            playgroundElement.innerHTML = '';

            const streamA$ = rxjs.timer(0, 500)
                .pipe(
                    rxjs.operators.take(12)
                );

            const streamB$ = rxjs.timer(0, 500)
                .pipe(
                    rxjs.operators.take(12),
                    rxjs.operators.filter(() => Math.random() < 0.3)
                );

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">Rx Marble Diagram</h2>
    <div class="slide-description text-center">
        <img class="img-boxed img-centered" style="margin-top: 50px;" width="650" src="pictures/rxmarbles-filter.png"
             alt="Rx Marble Diagram: filter">
        <pre class="pre-centered-big next">
            <code>---2--30--22--5--60--1-----|</code>
            <code>filter(x => x > 10)         </code>
            <code>------30--22-----60--------|</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</h2>
    <div class="slide-description">
        <div class="playground playground-two-streams" id="operatorsExample2"></div>
        <button class="btn btn-play" onclick="run(operatorsExample2, this)">‚ñ∂</button>
        <pre>
            <code>Rx.Observable.timer(0, 250)</code>
            <code>    .take(40)</code>
            <code>    .filter(() => Math.random() < 0.3)</code>
            <code>    <mark>.debounceTime(500)</mark></code>
            <code>    .subscribe(renderNext);</code>
        </pre>
    </div>
    <script>
        function operatorsExample2() {
            const playgroundElement = document.getElementById('operatorsExample2');
            playgroundElement.innerHTML = '';

            const streamA$ = rxjs.timer(0, 250)
                .pipe(
                    rxjs.operators.take(40),
                    rxjs.operators.filter(() => Math.random() < 0.3),
                    rxjs.operators.share()
                );

            const streamB$ = streamA$
                .pipe(
                    rxjs.operators.debounceTime(500)
                );

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: merge</h2>
    <div class="slide-description">
        <div class="playground playground-three-streams" id="operatorMerge"></div>
        <button class="btn btn-play" onclick="run(operatorMerge, this)">‚ñ∂</button>
        <pre>
            <code>const streamA$ = Rx.Observable.timer(0, 1500).take(4);</code>
            <code>const streamB$ = Rx.Observable.timer(800, 1000).take(6)</code>
            <code>    .map((value) => 'abcdef'[value]);</code>
            <code> </code>
            <code>Rx.Observable.<mark>merge(streamA$, streamB$)</mark></code>
            <code>    .subscribe(renderNext);</code>
        </pre>
    </div>
    <script>
        function operatorMerge() {
            const playgroundElement = document.getElementById('operatorMerge');
            playgroundElement.innerHTML = '';

            const streamA$ = rxjs.timer(0, 1500)
                .pipe(
                    rxjs.operators.take(4)
                );

            const streamB$ = rxjs.timer(800, 1000)
                .pipe(
                    rxjs.operators.take(6),
                    rxjs.operators.map((value) => 'abcdef'[value])
                );

            const streamAB$ = rxjs.merge(streamA$, streamB$);

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
            startStream(playgroundElement, streamAB$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: combineLatest</h2>
    <div class="slide-description">
        <div class="playground playground-three-streams" id="operatorCombineLatest"></div>
        <button class="btn btn-play" onclick="run(operatorCombineLatest, this)">‚ñ∂</button>
        <pre>
            <code>const streamA$ = Rx.Observable.timer(0, 1500).take(4);</code>
            <code>const streamB$ = Rx.Observable.timer(800, 1000).take(6)</code>
            <code>    .map((value) => 'abcdef'[value]);</code>
            <code> </code>
            <code>Rx.Observable.<mark>combineLatest(streamA$, streamB$)</mark></code>
            <code>    .map(([a, b]) => a + b)</code>
            <code>    .subscribe(renderNext);</code>
        </pre>
    </div>
    <script>
        function operatorCombineLatest() {
            const playgroundElement = document.getElementById('operatorCombineLatest');
            playgroundElement.innerHTML = '';

            const streamA$ = rxjs.timer(0, 1500)
                .pipe(
                    rxjs.operators.take(4)
                );

            const streamB$ = rxjs.timer(800, 1000)
                .pipe(
                    rxjs.operators.map((value) => 'abcdef'[value]),
                    rxjs.operators.take(6)
                );

            const streamAB$ = rxjs.combineLatest(streamA$, streamB$)
                .pipe(
                    rxjs.operators.map(([a, b]) => a + b)
                );

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
            startStream(playgroundElement, streamAB$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞: mergeMap</h2>
    <div class="slide-description">
        <div class="playground playground-two-streams" id="operatorMergeMap"></div>
        <button class="btn btn-play" onclick="run(operatorMergeMap, this)">‚ñ∂</button>
        <pre>
            <code>Rx.Observable.timer(0, 1500)</code>
            <code>    .take(3)</code>
            <code>    .map((value) => 'abcd'[value])</code>
            <div class="next">
            <code>    .<mark>mergeMap</mark>(value => {</code>
            <div class="next">
            <code>        return Rx.Observable.timer(0, 450).take(6)</code>
            <code>            .map(innerValue => value + innerValue);</code>
            </div>
            <code>    })</code>
            <code>    .subscribe(renderNext);</code>
            </div>
        </pre>
    </div>
    <script>
        function operatorMergeMap() {
            const playgroundElement = document.getElementById('operatorMergeMap');
            playgroundElement.innerHTML = '';

            const streamA$ = rxjs.timer(0, 1500)
                .pipe(
                    rxjs.operators.take(3),
                    rxjs.operators.map((value) => 'abcd'[value])
                );

            const streamB$ = streamA$
                .pipe(
                    rxjs.operators.mergeMap(value => {
                        return rxjs.timer(0, 450)
                            .pipe(
                                rxjs.operators.take(6),
                                rxjs.operators.map(innerValue => value + innerValue)
                            );
                    })
                );

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞: switchMap</h2>
    <div class="slide-description">
        <div class="playground playground-two-streams" id="operatorSwitchMap"></div>
        <button class="btn btn-play" onclick="run(operatorSwitchMap, this)">‚ñ∂</button>
    </div>
    <small>
        <pre>
            <code>Rx.Observable.timer(0, 1500)</code>
            <code>    .take(3)</code>
            <code>    .map((value) => 'abcd'[value])</code>
            <code>    <mark>.switchMap</mark>(value => {</code>
            <code>        return Rx.Observable.timer(0, 450).take(6)</code>
            <code>            .map(innerValue => value + innerValue);</code>
            <code>    })</code>
            <code>    .subscribe(renderNext);</code>
        </pre>
    </small>
    <script>
        function operatorSwitchMap() {
            const playgroundElement = document.getElementById('operatorSwitchMap');
            playgroundElement.innerHTML = '';

            const streamA$ = rxjs.timer(0, 1500)
                .pipe(
                    rxjs.operators.take(3),
                    rxjs.operators.map((value) => 'abcd'[value])
                );

            const streamB$ = streamA$
                .pipe(
                    rxjs.operators.switchMap(value => {
                        return rxjs.timer(0, 450)
                            .pipe(
                                rxjs.operators.take(6),
                                rxjs.operators.map(innerValue => value + innerValue)
                            );
                    })
                );

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">Rx Marble Diagram</h2>
    <div class="slide-description text-center">
        <img class="img-boxed img-centered"
             style="margin-top: 50px;"
             width="700"
             src="pictures/rxmarbles-switch-map.png"
             alt="Rx Marble Diagram: switchMap">
    </div>
</section>


<section class="slide">
    <h2 class="shout">
        SwitchMap<br>
        <small>is the new black</small>
    </h2>
</section>

<section class="slide">
    <h2 class="slide-header">Promise <--> Observable</h2>
    <div class="slide-description">
        <div class="playground playground-clock" id="promiseObservable"></div>
        <button class="btn btn-play" onclick="run(promiseObservable, this)">‚ñ∂</button>
        <pre>
            <code>const getPromise = (value, time) => new Promise((resolve) => {</code>
            <code>    setTimeout(() => {</code>
            <code>        resolve(value);</code>
            <code>    }, time);</code>
            <code>});</code>
            <code> </code>
            <div class="next">
            <code>Rx.Observable.<mark>from(getPromise('‚è∞', 1500))</mark></code>
            <code>    .subscribe(renderNext);</code>
            </div>
        </pre>
    </div>
    <script>
        function promiseObservable() {
            const playgroundElement = document.getElementById('promiseObservable');
            playgroundElement.innerHTML = '';

            const getPromise = (value, time) => new Promise((resolve) => {
                setTimeout(() => {
                    resolve(value);
                }, time);
            });

            const stream$ = rxjs.from(getPromise('‚è∞', 1500));

            startStream(playgroundElement, stream$);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">SwitchMap + Promise</h2>
    <div class="slide-description">
        <div class="playground playground-two-streams" id="promiseSwitchMap"></div>
        <button class="btn btn-play" onclick="run(promiseSwitchMap, this)">‚ñ∂</button>
    </div>
    <small>
        <pre>
            <code>const streamA$ = rxjs.Observable.create((observer) => {</code>
            <code>    observer.<mark class="next highlight">next(1);</mark></code>
            <code>    setTimeout(() => { observer.next(2);}, <mark class="next highlight">2000</mark>);</code>
            <code>    setTimeout(() => { observer.next(3);}, <mark class="next highlight">3000</mark>);</code>
            <code>    setTimeout(() => { observer.complete()}, <mark class="next highlight">4000</mark>);</code>
            <code>})</code>
            <code>const streamB$ = streamA$</code>
            <code>    <mark class="next highlight">.switchMap((value) => getPromise(value, 1500));</mark></code>
        </pre>
    </small>
    <script>
        function promiseSwitchMap() {
            const playgroundElement = document.getElementById('promiseSwitchMap');
            playgroundElement.innerHTML = '';

            const getPromise = (value, time) => new Promise((resolve) => {
                setTimeout(() => {
                    resolve(value);
                }, time);
            });

            const streamA$ = rxjs.Observable.create((observer) => {
                observer.next(1);
                setTimeout(() => {
                    observer.next(2);
                }, 2000);
                setTimeout(() => {
                    observer.next(3);
                }, 3000);
                setTimeout(() => {
                    observer.complete()
                }, 4000);
            });

            const streamB$ = streamA$
                .pipe(
                    rxjs.operators.switchMap((value) => getPromise(value, 1500))
                );

            startStream(playgroundElement, streamA$);
            startStream(playgroundElement, streamB$);
        }
    </script>
</section>


<section class="slide">
    <h2 class="slide-header">SwitchMap –∏ –æ—Ç–ø–∏—Å–∫–∏</h2>
    <div class="slide-description">
        <p><strong>SwitchMap</strong> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ç–æ–∫ ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç subscription.unsubscribe()
        </p>
        <p class="next">–ú–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–º–µ–Ω—è–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã:</p>
        <ul>
            <li class="next">Angular HttpClient</li>
            <li class="next">Fetch + AbortController</li>
            <li class="next">XMLHttpRequest -> xhr.abort()</li>
        </ul>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä: –æ—Ç–º–µ–Ω—è–µ–º—ã–π fetch</h2>
    <div class="slide-description">
        <pre>
            <code>const request$ = rxjs.Observable.create((observer) => {</code>
            <div class="next">
            <code>    const controller = <mark>new AbortController();</mark></code>
            <code>    const signal = controller.signal;</code>
            </div>
            <div class="next">
            <code> </code>
            <code>    fetch(url, <mark>{signal}</mark>).then(res => res.json())</code>
            </div>
            <div class="next">
            <code>        .then(data => {</code>
            <code>                observer.next(data);</code>
            <code>                observer.complete();</code>
            <code>            });</code>
            </div>
            <div class="next">
            <code> </code>
            <code>    <mark>return function unsubscribe() {</mark></code>
            <code>        <mark>controller.abort();</mark></code>
            <code>    <mark>};</mark></code>
            </div>
            <code>});</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">SwitchMap –∏ –∑–∞–ø—Ä–æ—Å—ã</h2>
    <div class="slide-description">
        <br>
        <img class="img-boxed img-centered" width="650" src="pictures/fetch-cancel.png" alt="–û—Ç–º–µ–Ω–∞ fetch-–∑–∞–ø—Ä–æ—Å–æ–≤">
    </div>
</section>

<section class="slide">
    <h2 class="shout">
        –î–ï–ú–û
    </h2>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ ‚Äî –ø–æ–∏—Å–∫</h2>
    <div class="slide-description">
        <img class="img-boxed img-centered" width="750" src="pictures/demo-2.gif" alt="–¥–µ–º–æ">
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: –ø–æ—Ç–æ–∫ –≤–≤–æ–¥–∞</h2>
    <div class="slide-search">
        <pre class="search-code">
            <code>Rx.Observable</code>
            <code>    .fromEvent(inputElement, 'input')</code>
            <code class="next">    .map((event) => event.target.value)</code>
            <code class="next">    .subscribe(logToOutput)</code>
        </pre>
        <div class="search-playground" id="searchDemo1">
            <input type="text" class="search-input" onfocus="searchDemo1()">
            <div class="search-output">
            </div>
        </div>
    </div>

    <script>
        function searchDemo1() {
            const playgroundElement = document.getElementById('searchDemo1');
            const inputElement = playgroundElement.querySelector('.search-input');
            const outputElement = playgroundElement.querySelector('.search-output');
            const onHashChange$ = rxjs.fromEvent(window, 'hashchange')
                .pipe(
                    rxjs.operators.take(1)
                );
            const blur$ = rxjs.fromEvent(inputElement, 'blur')
                .pipe(
                    rxjs.operators.take(1)
                );

            return rxjs.fromEvent(inputElement, 'input')
                .pipe(
                    rxjs.operators.map((event) => event.target.value),
                    rxjs.operators.takeUntil(onHashChange$),
                    rxjs.operators.takeUntil(blur$)
                )
                .subscribe({
                    next: (value) => logToOutput(outputElement, value),
                    complete: () => {
                        inputElement.value = '';
                        outputElement.innerHTML = ''
                    }
                });
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: –¥–µ–±–∞—É–Ω—Å</h2>
    <div class="slide-search">
        <pre class="search-code">
            <code>Rx.Observable</code>
            <code>    .fromEvent(inputElement, 'input')</code>
            <code>    .map((event) => event.target.value)</code>
            <code>    <mark>.debounceTime(500)</mark></code>
            <code>    .subscribe(logToOutput)</code>
        </pre>
        <div class="search-playground" id="searchDemo3">
            <input type="text" class="search-input" onfocus="searchDemo3()">
            <div class="search-output">
            </div>
        </div>
    </div>

    <script>
        function searchDemo3() {
            const playgroundElement = document.getElementById('searchDemo3');
            const inputElement = playgroundElement.querySelector('.search-input');
            const outputElement = playgroundElement.querySelector('.search-output');
            const onHashChange$ = rxjs.fromEvent(window, 'hashchange')
                .pipe(
                    rxjs.operators.take(1)
                );
            const blur$ = rxjs.fromEvent(inputElement, 'blur')
                .pipe(
                    rxjs.operators.take(1)
                );


            return rxjs.fromEvent(inputElement, 'input')
                .pipe(
                    rxjs.operators.map((event) => event.target.value),
                    rxjs.operators.debounceTime(500),
                    rxjs.operators.takeUntil(onHashChange$),
                    rxjs.operators.takeUntil(blur$)
                )
                .subscribe({
                    next: (value) => logToOutput(outputElement, value),
                    complete: () => {
                        inputElement.value = '';
                        outputElement.innerHTML = ''
                    }
                });
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π</h2>
    <div class="slide-search">
        <pre class="search-code">
            <code>Rx.Observable</code>
            <code>    .fromEvent(inputElement, 'input')</code>
            <code>    .map((event) => event.target.value)</code>
            <code>    .debounceTime(500)</code>
            <code>    <mark>.distinctUntilChanged()</mark></code>
            <code>    .subscribe(logToOutput)</code>
        </pre>
        <div class="search-playground" id="searchDemo4">
            <input type="text" class="search-input" onfocus="searchDemo4()">
            <div class="search-output">
            </div>
        </div>
    </div>

    <script>
        function searchDemo4() {
            const playgroundElement = document.getElementById('searchDemo4');
            const inputElement = playgroundElement.querySelector('.search-input');
            const outputElement = playgroundElement.querySelector('.search-output');
            const onHashChange$ = rxjs.fromEvent(window, 'hashchange')
                .pipe(
                    rxjs.operators.take(1)
                );
            const blur$ = rxjs.fromEvent(inputElement, 'blur')
                .pipe(
                    rxjs.operators.take(1)
                );


            return rxjs.fromEvent(inputElement, 'input')
                .pipe(
                    rxjs.operators.map((event) => event.target.value),
                    rxjs.operators.debounceTime(500),
                    rxjs.operators.distinctUntilChanged(),
                    rxjs.operators.takeUntil(onHashChange$),
                    rxjs.operators.takeUntil(blur$)
                )
                .subscribe({
                    next: (value) => logToOutput(outputElement, value),
                    complete: () => {
                        inputElement.value = '';
                        outputElement.innerHTML = ''
                    }
                });
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö</h2>
    <div class="slide-search">
        <pre class="search-code">
            <code>Rx.Observable</code>
            <code>    .fromEvent(inputElement, 'input')</code>
            <code>    .map((event) => event.target.value)</code>
            <code>    .debounceTime(500)</code>
            <code>    .distinctUntilChanged()</code>
            <code>    <mark>.switchMap(query => fetchData(query))</mark></code>
            <code>    .subscribe(logToOutput)</code>
        </pre>
        <div class="search-playground" id="searchDemo5">
            <input type="text" class="search-input" onfocus="searchDemo5()">
            <div class="search-output">
            </div>
        </div>
    </div>

    <script>
        function searchDemo5() {
            const playgroundElement = document.getElementById('searchDemo5');
            const inputElement = playgroundElement.querySelector('.search-input');
            const outputElement = playgroundElement.querySelector('.search-output');
            const onHashChange$ = rxjs.fromEvent(window, 'hashchange')
                .pipe(
                    rxjs.operators.take(1)
                );
            const blur$ = rxjs.fromEvent(inputElement, 'blur')
                .pipe(
                    rxjs.operators.take(1)
                );


            return rxjs.fromEvent(inputElement, 'input')
                .pipe(
                    rxjs.operators.map((event) => event.target.value),
                    rxjs.operators.debounceTime(500),
                    rxjs.operators.distinctUntilChanged(),
                    rxjs.operators.switchMap(value => fetchData(value)),
                    rxjs.operators.takeUntil(onHashChange$),
                    rxjs.operators.takeUntil(blur$)
                )
                .subscribe({
                    next: (items) => logAllToOutput(outputElement, items),
                    complete: () => {
                        inputElement.value = '';
                        outputElement.innerHTML = ''
                    }
                });
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: –ª–æ–∞–¥–µ—Ä</h2>
    <div class="slide-search">
        <pre class="search-code">
            <code>Rx.Observable</code>
            <code>    .fromEvent(inputElement, 'input')</code>
            <code>    .map((event) => event.target.value)</code>
            <code>    .debounceTime(500)</code>
            <code>    .distinctUntilChanged()</code>
            <code>    <mark>.do(() => setLoading(true))</mark></code>
            <code>    .switchMap(value => fetchData(value))</code>
            <code>    <mark>.do(() => setLoading(false))</mark></code>
            <code>    .subscribe(logToOutput)</code>
        </pre>
        <div class="search-playground" id="searchDemo6">
            <input type="text" class="search-input" onfocus="searchDemo6()">
            <div class="search-output">
            </div>
        </div>
    </div>

    <script>
        function searchDemo6() {
            const playgroundElement = document.getElementById('searchDemo6');
            const inputElement = playgroundElement.querySelector('.search-input');
            const outputElement = playgroundElement.querySelector('.search-output');
            const onHashChange$ = rxjs.fromEvent(window, 'hashchange')
                .pipe(
                    rxjs.operators.take(1)
                );
            const blur$ = rxjs.fromEvent(inputElement, 'blur')
                .pipe(
                    rxjs.operators.take(1)
                );

            const setLoading = (flag) => {
                outputElement.classList.toggle('search-loading', flag);
            };

            return rxjs.fromEvent(inputElement, 'input')
                .pipe(
                    rxjs.operators.tap(() => {
                        outputElement.innerHTML = ''
                    }),
                    rxjs.operators.map((event) => event.target.value),
                    rxjs.operators.debounceTime(500),
                    rxjs.operators.distinctUntilChanged(),
                    rxjs.operators.tap(() => setLoading(true)),
                    rxjs.operators.switchMap(value => fetchData(value)),
                    rxjs.operators.tap(() => setLoading(false)),
                    rxjs.operators.takeUntil(onHashChange$),
                    rxjs.operators.takeUntil(blur$)
                )
                .subscribe({
                    next: (items) => logAllToOutput(outputElement, items),
                    complete: () => {
                        inputElement.value = '';
                        outputElement.innerHTML = ''
                    }
                });
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
    <div class="slide-search">
        <pre class="search-code">
            <code>Rx.Observable</code>
            <code>    .fromEvent(inputElement, 'input')</code>
            <code>    .map((event) => event.target.value)</code>
            <code>    .debounceTime(500)</code>
            <code>    .distinctUntilChanged()</code>
            <code>    .do(() => setLoading(true))</code>
            <code>    .switchMap(value => fetchData(value))</code>
            <code>    .do(() => setLoading(false))</code>
            <code>    .subscribe(logToOutput)</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–î–µ–º–æ: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
    <div class="slide-description">
        <ul>
            <li>–≤–∏–¥–Ω–∞ –≤—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
            <li>–º–∏–Ω–∏–º—É–º —Å–∞–π–¥ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤</li>
            <li>—Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</li>
        </ul>
    </div>
</section>

<section class="slide">
    <h2 class="shout">
        SUBJECTS
    </h2>
</section>

<section class="slide">
    <h2 class="slide-header">1 –ø–æ–¥–ø–∏—Å–∫–∞ - 1 –ø–æ—Ç–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π</h2>
    <div class="slide-description">
        <div class="playground playground-three-streams" id="observableMultiSubs"></div>
        <button class="btn btn-play" onclick="run(observableMultiSubs, this)">‚ñ∂</button>
    </div>
    <small>
        <pre>
                <code>const stream$ = Rx.Observable.interval(500)</code>
                <code>    .take(5)</code>
                <code>    .map(() => random());</code>
                <code class="next">stream$.subscribe(/* ... */);</code>
                <code class="next">stream$.subscribe(/* ... */);</code>
                <div class="next">
                <code>setTimeout(() => {</code>
                <code>    stream$.subscribe(/* ... */);</code>
                <code>}, 800);</code>
                </div>
        </pre>
    </small>
    <script>
        function observableMultiSubs() {
            const playgroundElement = document.getElementById('observableMultiSubs');
            playgroundElement.innerHTML = '';

            const stream$ = rxjs.interval(TICK_MS)
                .pipe(
                    rxjs.operators.take(5),
                    rxjs.operators.map(() => Math.random().toString().substr(2, 2))
                );

            startStream(playgroundElement, stream$);
            startStream(playgroundElement, stream$);
            startStream(playgroundElement, stream$, 800);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">Subject</h2>
    <div class="slide-description">
        <p>–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Observable –∏ Observer. –ü–µ—Ä–µ–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º</p>
    </div>
    <div class="relative-container">
        <small>
            <pre>
                <code>const subject = new Rx.Subject();</code>
                <code> </code>
                <code>subject.next(0);</code>
                <code>setTimeout(() => subject.next(1), 1000);</code>
                <code>setTimeout(() => subject.next(2), 2000);</code>
                <code>setTimeout(() => subject.next(3), 3000);</code>
                <code>setTimeout(() => subject.next(4), 4000);</code>
                <code>setTimeout(() => subject.complete(), 5000);</code>
            </pre>
        </small>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">Subject</h2>
    <div class="slide-description">
        <div class="playground playground-three-streams" id="subjectIntro"></div>
        <button class="btn btn-play" onclick="run(subjectIntro, this)">‚ñ∂</button>
    </div>
    <div class="relative-container">
        <small>
        <pre>
                <code>const subject = new Rx.Subject();</code>
                <code>setSubjectTick(subject);</code>
                <code>&nbsp;</code>
                <code>subject.subscribe();</code>
                <code>setTimeout(() => subject.subscribe(/* ... */), 1500);</code>
                <code>setTimeout(() => subject.subscribe(/* ... */), 2500);</code>
        </pre>
        </small>
    </div>
    <script>
        function subjectIntro() {
            const playgroundElement = document.getElementById('subjectIntro');
            playgroundElement.innerHTML = '';

            const subject = new rxjs.Subject();
            setSubjectTick1(subject);

            startStream(playgroundElement, subject);
            startStream(playgroundElement, subject, 1500);
            startStream(playgroundElement, subject, 2500);
        }
    </script>
</section>

<section class="slide">
    <h2 class="slide-header">–†–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ Subject</h2>
    <ol>
        <li>Subject</li>
        <li class="next">BehaviorSubject(value)</li>
        <li class="next">ReplaySubject(buffer)</li>
        <li class="next">AsyncSubject()</li>
    </ol>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä - –∞–≤—Ç–æ–æ—Ç–ø–∏—Å–∫–∞</h2>
    <div class="slide-description">
        <pre>
            <code>const subscription = streamA$</code>
            <code>    .map(...)</code>
            <code>    .switchMap(...)</code>
            <code>    .subscribe(...);</code>
            <div class="next">
            <code>...</code>
            <code>onDestroy() {</code>
            <code>    subscription.<mark>unsubscribe();</mark></code>
            <code>}</code>
            </div>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä - –∞–≤—Ç–æ–æ—Ç–ø–∏—Å–∫–∞</h2>
    <div class="slide-description">
        <pre>
            <code>const destroyStream = new Subject();</code>
            <div class="next">
            <code>streamA$</code>
            <code>    .map(...)</code>
            <code>    .switchMap(...)</code>
            <code>    .takeUntil(<mark>destroyStream</mark>)</code>
            <code>    .subscribe()</code>
            <code>...</code>
            </div>
            <div class="next">
            <code>onDestroy() {</code>
            <code>    destroyStream.next();</code>
            <code>}</code>
            </div>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
    <div class="slide-description">
        <pre>
            <code>@Injectable()</code>
            <code>export class StateService {</code>
            <code>  private <mark>authSubject</mark> = new BehaviorSubject&lt;boolean&gt;(false);</code>
            <div class="next">
            <code> </code>
            <code>  setAuthState(<mark class="highlight next">state</mark>: boolean) {</code>
                <code>    this.authSubject.<mark class="highlight next">next(state)</mark>;</code>
            <code>  }</code>
            </div>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
    <div class="slide-description">
        <pre>
            <code>@Injectable()</code>
            <code>export class StateService {</code>
            <code>  private <mark>authSubject</mark> = new BehaviorSubject&lt;boolean&gt;(false);</code>
            <code>  setAuthState(state: boolean) {...}</code>
            <div class="next">
            <code> </code>
            <code>  getStateChange(): Observable&lt;AuthState&gt; {</code>
            <code>    return this.authSubject.<mark class="highlight next">asObservable()</mark>;</code>
            <code>  }</code>
            </div>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
    <div class="slide-description">
        <pre>
            <code>@Injectable()</code>
            <code>export class StateService {</code>
            <code>  private <mark>authSubject</mark> = new BehaviorSubject&lt;boolean&gt;(false);</code>
            <code>  setAuthState(state: boolean) {...}</code>
            <code>  getStateChange(): Observable&lt;AuthState&gt; {...}</code>
            <code> </code>
            <div class="next">
            <code>  getCurrentState(): boolean {</code>
            <code>    return this.authSubject.<mark class="highlight next">getValue()</mark>;</code>
            <code>  }</code>
            </div>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ü—Ä–∏–º–µ—Ä - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
    <div class="slide-description">
        <pre>
            <code>let cachingSubject;</code>
            <code> </code>
            <code>getResource() {</code>
            <div class="next">
            <code>    if (!cachingSubject) {</code>
            <div class="next">
            <code>      cachingSubject = new ReplaySubject(1);</code>
            </div>
            <div class="next">
            <code> </code>
            <code>      loadData().<mark class="highlight next">subscribe</mark>((result) => {</code>
            <code>          this.cachingSubject.<mark class="highlight next">next(result);</mark></code>
            <code>        });</code>
            </div>
            <code>    }</code>
            </div>
            <div class="next">
            <code> </code>
            <code>    return this.cachingSubject.asObservable();</code>
            </div>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–ò—Ç–æ–≥–∏</h2>
    <div class="slide-description">
        <ul>
            <li>Push / pull</li>
            <li class="next">Observable = Observer + Iterator</li>
            <li class="next">Observable - –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</li>
            <li class="next">–û–ø–µ—Ä–∞—Ç–æ—Ä—ã: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤</li>
            <li class="next">Observable –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞</li>
            <li class="next">–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–º–µ–Ω—è–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã</li>
            <li class="next">–ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤</li>
            <li class="next">Subjects ‚Äì –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</li>
        </ul>
    </div>
</section>

<section class="slide">
    <h2 class="slide-header">–°–ø–∞—Å–∏–±–æ!</h2>
    <h2><a href="https://github.com/aalexeev239/rxjs-intro"
           target="_blank" rel="noopener noreferrer">github.com/aalexeev239/rxjs-intro</a>
    </h2>
    <h2><a href="goo.gl/fdh1rh"
           target="_blank" rel="noopener noreferrer">goo.gl/fdh1rh</a></h2>
    <img width="320" src="pictures/rxjs-intro.gif" alt="https://github.com/aalexeev239/rxjs-intro">
</section>

<footer class="badge">
    <a href="https://github.com/aalexeev239/rxjs-intro">GitHub</a>
</footer>

<div class="progress"></div>

<script src="node_modules/shower-core/shower.min.js"></script>
<script src="node_modules/rxjs/bundles/rxjs.umd.min.js"></script>
<script src="./custom-scripts.js"></script>
<!-- Copyright ¬© 2018 Andrey Alexeev -->
</body>
</html>
